<!-- page/component/component-pages/wx-text/wx-text1.wxml -->
<view class="page">
    <view class="page__hd">
        <text class="page__title">成语学习</text>
        <text class="page__desc">成语详细解析</text>
    </view>
    <view class="page__bd">
        <view class="section section_gap">
            <text class="idiom-name">{{content}}</text>
            <text class="idiom-info">{{text}}</text>
        </view>
        <view class="btn-container">
            <view class="btn-group">
                <button class="btn next-btn" bindtap="nextIdiom">下一个</button>
                <button class="btn random-btn" bindtap="randomIdiom">随机下一个</button>
            </view>
            <text class="progress-text">当前：{{currentIndex + 1}}/{{idiomsDataLength}}</text>
        </view>
    </view>
    <!-- 上传模态框 -->
    <view wx:if="{{showUploadModal}}" class="upload-modal">
      <view class="upload-content">
        <view class="upload-header">
          <text>上传新成语</text>
          <text class="close-btn" bindtap="hideUpload">×</text>
        </view>
        
        <scroll-view class="upload-form" scroll-y>
          <view class="form-item">
            <text class="label">成语名称*</text>
            <input 
              data-field="name" 
              value="{{newIdiom.name}}" 
              bindinput="onInputChange" 
              placeholder="请输入成语名称"
            />
          </view>
          
          
          
          <view class="form-item">
            <text class="label">示例句子</text>
            <textarea 
              data-field="example" 
              value="{{newIdiom.example}}" 
              bindinput="onInputChange" 
              placeholder="请输入使用示例"
              maxlength="300"
            />
          </view>
        </scroll-view>
        
        <view class="upload-actions">
          <button class="btn-cancel" bindtap="hideUpload">取消</button>
          <button class="btn-submit" bindtap="uploadIdiom">上传</button>
        </view>
      </view>
    </view>
    
    <!-- 添加上传按钮和清空按钮 -->
    <view class="action-buttons">
    <button class="upload-btn" bindtap="showUpload">上传成语</button>
    <button class="clear-btn" bindtap="clearCustomData">恢复默认</button>
    </view>
</view>